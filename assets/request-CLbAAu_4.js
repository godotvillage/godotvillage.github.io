const t="https://village.moshangzhu.com.cn",a="https://games.moshangzhu.com.cn/",n="https://games.moshangzhu.com.cn/games",c={async getGames(){try{return await(await fetch(`${t}/games`)).json()}catch(e){throw new Error(`获取游戏列表失败: ${e.message}`)}},async uploadGame(e){try{return await(await fetch(`${t}/games/upload`,{method:"POST",body:e})).json()}catch(r){throw new Error(`上传游戏失败: ${r.message}`)}},getDownloadUrl(e){return`${t}/games/download/${e}`}},w={async getFarmList(){try{const r=await(await fetch(`${t}/farms`)).json();if(r.success)return r;throw new Error(r.error)}catch(e){throw new Error(`获取项目列表失败: ${e.message}`)}},async getFarmListStats(){try{const r=await(await fetch(`${t}/farms/stats`)).json();if(r.success)return r.data;throw new Error(r.error)}catch(e){throw new Error(`获取项目统计失败: ${e.message}`)}},async getFarmProjectById(e){try{const s=await(await fetch(`${t}/farms/${e}`)).json();if(s.success)return s.data;throw new Error(s.error)}catch(r){throw new Error(`获取项目详情失败: ${r.message}`)}},async createFarmProject(e){try{const s=await(await fetch(`${t}/farms`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json();if(s.success)return s;throw new Error(s.error)}catch(r){throw new Error(`创建项目失败: ${r.message}`)}},async updateFarmProject(e,r){try{const o=await(await fetch(`${t}/farms/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).json();if(o.success)return o;throw new Error(o.error)}catch(s){throw new Error(`更新项目失败: ${s.message}`)}},async deleteFarmProject(e){try{const s=await(await fetch(`${t}/farms/${e}`,{method:"DELETE"})).json();if(s.success)return s;throw new Error(s.error)}catch(r){throw new Error(`删除项目失败: ${r.message}`)}}};export{t as baseUrl,w as farmApi,c as gameApi,n as gameBaseUrl,a as imageBaseUrl};
