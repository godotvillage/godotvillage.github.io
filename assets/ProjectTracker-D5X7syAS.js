import{_ as M,r as C,c as n,o as d,e as a,d as e,t as i,b as x,i as p,v as u,s as f,a as y,F as v,g as h,k as g,f as m,j as F,h as P,n as k,x as I}from"./app-EP5hfc04.js";import{g as U}from"./githubAuth-ClaQPLJJ.js";import"./request-CONCD9Ei.js";const _={name:"ProjectTracker",data(){return{projects:[],searchQuery:"",statusFilter:"",typeFilter:"",sortBy:"newest",showProjectModal:!1,projectModalMode:"create",showUpdateModal:!1,selectedProject:null,createLoading:!1,createError:"",commonTags:["RPG","动作","策略","解谜","平台跳跃","射击","像素风","3D","2D","单人","多人","合作","开源","商业","教育","实验性","VR","AR"],projectForm:{id:"",title:"",author:"",contact:"",type:"",status:"",description:"",progress:0,expectedTime:"",tagsInput:"",repository:"",demoUrl:"",teamMembers:"",recruitmentInfo:"",isOpenSource:!1,needHelp:!1,allowCollaboration:!1},updatingProject:null,newUpdate:{content:"",progress:null}}},computed:{activeProjects(){return this.projects.filter(r=>r.status==="development"||r.status==="testing").length},completedProjects(){return this.projects.filter(r=>r.status==="completed").length},isLoggedIn(){return U.isLoggedIn()},filteredProjects(){let r=[...this.projects];if(this.searchQuery){const t=this.searchQuery.toLowerCase();r=r.filter(c=>c.title.toLowerCase().includes(t)||c.author.toLowerCase().includes(t)||c.description.toLowerCase().includes(t))}return this.statusFilter&&(r=r.filter(t=>t.status===this.statusFilter)),this.typeFilter&&(r=r.filter(t=>t.type===this.typeFilter)),r.sort((t,c)=>{switch(this.sortBy){case"newest":return new Date(c.createdAt)-new Date(t.createdAt);case"updated":const b=t.lastUpdate?new Date(t.lastUpdate.date):new Date(t.createdAt);return(c.lastUpdate?new Date(c.lastUpdate.date):new Date(c.createdAt))-b;case"name":return t.title.localeCompare(c.title);case"progress":return c.progress-t.progress;default:return 0}}),r},editableProjects(){return this.projects.filter(t=>this.canEditProject(t)).map(t=>t.id)}},mounted(){this.loadProjects()},methods:{loadProjects(){const r=localStorage.getItem("godot-village-projects");r?this.projects=JSON.parse(r):(this.projects=[{id:"1",title:"像素风RPG冒险",author:"小明",type:"2D",status:"development",description:"一个经典的像素风RPG游戏，包含丰富的剧情和战斗系统。玩家将扮演一名年轻的冒险者，在神秘的大陆上展开冒险。",progress:65,tags:["RPG","像素风","单人","剧情"],repository:"https://github.com/example/pixel-rpg",createdAt:"2025-01-10",lastUpdate:{id:"1",date:"2025-01-15",content:"完成了战斗系统的基础框架，添加了技能系统"},updates:[{id:"1",date:"2025-01-15",content:"完成了战斗系统的基础框架，添加了技能系统",progress:65},{id:"2",date:"2025-01-12",content:"设计并实现了主角的移动和动画系统",progress:45}]},{id:"2",title:"3D平台跳跃游戏",author:"小红",type:"3D",status:"testing",description:"一个充满挑战的3D平台跳跃游戏，玩家需要通过精确的跳跃和时机掌握来完成各种关卡。",progress:85,tags:["平台","3D","挑战"],createdAt:"2025-01-05",lastUpdate:{id:"1",date:"2025-01-14",content:"完成了所有关卡的设计，正在进行最终测试"},updates:[{id:"1",date:"2025-01-14",content:"完成了所有关卡的设计，正在进行最终测试",progress:85}]}],this.saveProjects())},saveProjects(){localStorage.setItem("godot-village-projects",JSON.stringify(this.projects))},submitProjectForm(){this.projectModalMode==="create"?this.createProject():this.updateProject()},async createProject(){this.createError="",this.createLoading=!0;try{if(!this.projectForm.title.trim())throw new Error("请输入项目名称");if(!this.projectForm.author.trim())throw new Error("请输入作者名称");if(!this.projectForm.description.trim())throw new Error("请输入项目描述");const r={id:Date.now().toString(),title:this.projectForm.title.trim(),author:this.projectForm.author.trim(),githubUser:U.getCurrentUser().name,contact:this.projectForm.contact.trim(),type:this.projectForm.type,status:this.projectForm.status,description:this.projectForm.description.trim(),progress:this.projectForm.progress||0,expectedTime:this.projectForm.expectedTime||null,tags:this.projectForm.tagsInput?this.projectForm.tagsInput.split(",").map(t=>t.trim()).filter(t=>t):[],repository:this.projectForm.repository.trim()||null,demoUrl:this.projectForm.demoUrl.trim()||null,teamMembers:this.projectForm.teamMembers.trim()||null,recruitmentInfo:this.projectForm.recruitmentInfo.trim()||null,isOpenSource:this.projectForm.isOpenSource,needHelp:this.projectForm.needHelp,allowCollaboration:this.projectForm.allowCollaboration,createdAt:new Date().toISOString().split("T")[0],updates:[]};try{const{projectApi:t}=await I(async()=>{const{projectApi:b}=await import("./request-CONCD9Ei.js");return{projectApi:b}},[]),c=await t.createProject(r);this.projects.unshift(c)}catch(t){console.warn("API创建失败，使用本地存储:",t),this.projects.unshift(r)}this.saveProjects(),this.closeProjectModal()}catch(r){this.createError=r.message}finally{this.createLoading=!1}},editProject(r){this.openEditModal(r),this.selectedProject=null},updateProject(){const r=this.projects.findIndex(t=>t.id===this.projectForm.id);if(r!==-1){const t={...this.projects[r],title:this.projectForm.title.trim(),contact:this.projectForm.contact.trim(),type:this.projectForm.type,status:this.projectForm.status,description:this.projectForm.description.trim(),progress:this.projectForm.progress||0,expectedTime:this.projectForm.expectedTime||null,tags:this.projectForm.tagsInput?this.projectForm.tagsInput.split(",").map(c=>c.trim()).filter(c=>c):[],repository:this.projectForm.repository.trim()||null,demoUrl:this.projectForm.demoUrl.trim()||null,teamMembers:this.projectForm.teamMembers.trim()||null,recruitmentInfo:this.projectForm.recruitmentInfo.trim()||null,isOpenSource:this.projectForm.isOpenSource,needHelp:this.projectForm.needHelp,allowCollaboration:this.projectForm.allowCollaboration};this.projects[r]=t,this.saveProjects()}this.closeProjectModal()},addUpdate(r){this.updatingProject=r,this.newUpdate={content:"",progress:null},this.showUpdateModal=!0,this.selectedProject=null},submitUpdate(){if(!this.updatingProject)return;const r={id:Date.now().toString(),date:new Date().toISOString().split("T")[0],content:this.newUpdate.content,progress:this.newUpdate.progress},t=this.projects.findIndex(c=>c.id===this.updatingProject.id);t!==-1&&(this.projects[t].updates||(this.projects[t].updates=[]),this.projects[t].updates.unshift(r),this.projects[t].lastUpdate=r,this.newUpdate.progress!==null&&this.newUpdate.progress!==""&&(this.projects[t].progress=this.newUpdate.progress),this.saveProjects()),this.closeUpdateModal()},selectProject(r){this.selectedProject=r},openCreateModal(){this.projectModalMode="create",this.resetProjectForm(),this.showProjectModal=!0},openEditModal(r){this.projectModalMode="edit",this.populateProjectForm(r),this.showProjectModal=!0},closeProjectModal(){this.showProjectModal=!1,this.resetProjectForm()},closeUpdateModal(){this.showUpdateModal=!1,this.updatingProject=null,this.newUpdate={content:"",progress:null}},closeProjectDetail(){this.selectedProject=null},resetProjectForm(){this.projectForm={id:"",title:"",author:"",contact:"",type:"",status:"",description:"",progress:0,expectedTime:"",tagsInput:"",repository:"",demoUrl:"",teamMembers:"",recruitmentInfo:"",isOpenSource:!1,needHelp:!1,allowCollaboration:!1},this.createError="",this.createLoading=!1},populateProjectForm(r){this.projectForm={id:r.id,title:r.title,author:r.author,contact:r.contact||"",type:r.type,status:r.status,description:r.description,progress:r.progress||0,expectedTime:r.expectedTime||"",tagsInput:r.tags?r.tags.join(", "):"",repository:r.repository||"",demoUrl:r.demoUrl||"",teamMembers:r.teamMembers||"",recruitmentInfo:r.recruitmentInfo||"",isOpenSource:r.isOpenSource||!1,needHelp:r.needHelp||!1,allowCollaboration:r.allowCollaboration||!1},this.createError="",this.createLoading=!1},addTag(r){const t=this.projectForm.tagsInput?this.projectForm.tagsInput.split(",").map(c=>c.trim()):[];t.includes(r)||(t.push(r),this.projectForm.tagsInput=t.join(", "))},getStatusIcon(r){return{planning:"📋",development:"🚀",testing:"🧪",completed:"✅",paused:"⏸️"}[r]||"❓"},getStatusText(r){return{planning:"计划中",development:"开发中",testing:"测试中",completed:"已完成",paused:"暂停"}[r]||"未知"},getStatusClass(r){return`status-${r}`},getTypeIcon(r){return{"2D":"🎨","3D":"🎯",tool:"🔧",demo:"🎮"}[r]||"📦"},getProgressClass(r){return r>=80?"progress-high":r>=50?"progress-medium":r>=20?"progress-low":"progress-minimal"},formatDate(r){return new Date(r).toLocaleDateString("zh-CN")},truncateText(r,t){return r.length<=t?r:r.substring(0,t)+"..."},canEditProject(r){return!this.isLoggedIn||!r?!1:U.isProjectAuthor(r)},handleUserLogin(r){console.log("用户已登录:",r),this.$forceUpdate()},handleUserLogout(){console.log("用户已登出"),this.$forceUpdate()},handleAuthError(r){console.error("认证错误:",r),alert("认证失败，请重试")}}},D={class:"project-tracker"},S={class:"tracker-header"},T={class:"header-left"},V={class:"stats"},L={class:"stat-item"},E={class:"stat-number"},A={class:"stat-item"},O={class:"stat-number"},q={class:"stat-item"},H={class:"stat-number"},Q={class:"header-right"},G=["disabled","title"],N={class:"filter-section"},R={class:"filter-controls"},B={class:"filter-group"},z={class:"filter-group"},J={class:"filter-group"},K={class:"filter-group"},W={key:0,class:"empty-state"},X={key:1,class:"projects-grid"},Y=["onClick"],Z={class:"project-header"},$={class:"project-title-section"},tt={class:"project-title"},et={class:"project-actions"},st=["onClick"],ot=["onClick"],rt={class:"project-meta"},lt={class:"project-type"},it={class:"project-author"},nt={class:"project-date"},dt={class:"project-description"},at={class:"progress-section"},pt={class:"progress-label"},ct={class:"progress-percent"},ut={class:"progress-bar"},mt={key:0,class:"project-tags"},gt={key:0,class:"more-tags"},jt={key:1,class:"last-update"},ft={class:"update-text"},vt={class:"modal-header"},ht={class:"form-group"},bt={class:"form-row"},yt={class:"form-group"},Pt=["disabled"],Ft={class:"form-group"},Ut={class:"form-row"},kt={class:"form-group"},wt={class:"form-group"},Mt={class:"form-group"},Ct={class:"form-row"},xt={class:"form-group"},It={class:"form-group"},_t={class:"form-group"},Dt={class:"tag-suggestions"},St=["onClick"],Tt={class:"form-row"},Vt={class:"form-group"},Lt={class:"form-group"},Et={class:"form-group"},At={class:"form-group"},Ot={class:"form-group"},qt={class:"checkbox-group"},Ht={class:"checkbox-label"},Qt={class:"checkbox-label"},Gt={class:"checkbox-label"},Nt={key:0,class:"error-message"},Rt={class:"form-actions"},Bt=["disabled"],zt={class:"modal-header"},Jt={class:"modal-actions"},Kt={class:"project-detail"},Wt={class:"detail-header"},Xt={class:"detail-meta"},Yt={class:"project-type"},Zt={class:"project-author"},$t={class:"project-date"},te={class:"progress-section"},ee={class:"progress-label"},se={class:"progress-percent"},oe={class:"progress-bar"},re={class:"detail-content"},le={class:"detail-section"},ie={key:0,class:"detail-section"},ne={class:"project-tags"},de={key:1,class:"detail-section"},ae=["href"],pe={key:2,class:"detail-section"},ce={class:"updates-timeline"},ue={class:"update-date"},me={class:"update-content"},ge={key:0,class:"update-progress"},je={class:"modal-header"},fe={class:"form-group"},ve={class:"form-group"},he=["placeholder"],be={class:"form-actions"};function ye(r,t,c,b,o,l){const w=C("GitHubLogin");return d(),n("div",D,[a(" 头部操作区 "),e("div",S,[e("div",T,[t[41]||(t[41]=e("h3",null,"🚀 群友项目跟踪",-1)),e("div",V,[e("span",L,[e("span",E,i(o.projects.length),1),t[38]||(t[38]=e("span",{class:"stat-label"},"总项目数",-1))]),e("span",A,[e("span",O,i(l.activeProjects),1),t[39]||(t[39]=e("span",{class:"stat-label"},"进行中",-1))]),e("span",q,[e("span",H,i(l.completedProjects),1),t[40]||(t[40]=e("span",{class:"stat-label"},"已完成",-1))])])]),e("div",Q,[x(w,{onLogin:l.handleUserLogin,onLogout:l.handleUserLogout,onError:l.handleAuthError},null,8,["onLogin","onLogout","onError"]),t[42]||(t[42]=e("br",null,null,-1)),e("button",{class:"btn-primary",onClick:t[0]||(t[0]=(...s)=>l.openCreateModal&&l.openCreateModal(...s)),disabled:!l.isLoggedIn,title:l.isLoggedIn?"创建新项目":"请先登录GitHub"}," ➕ 创建新项目 ",8,G)])]),a(" 筛选和搜索区 "),e("div",N,[e("div",R,[e("div",B,[t[43]||(t[43]=e("label",null,"🔍 搜索项目：",-1)),p(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>o.searchQuery=s),type:"text",placeholder:"输入项目名称或作者...",class:"search-input"},null,512),[[u,o.searchQuery]])]),e("div",z,[t[45]||(t[45]=e("label",null,"📊 状态筛选：",-1)),p(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>o.statusFilter=s),class:"filter-select"},[...t[44]||(t[44]=[y('<option value="" data-v-b573f991>全部状态</option><option value="planning" data-v-b573f991>📋 计划中</option><option value="development" data-v-b573f991>🚀 开发中</option><option value="testing" data-v-b573f991>🧪 测试中</option><option value="completed" data-v-b573f991>✅ 已完成</option><option value="paused" data-v-b573f991>⏸️ 暂停</option>',6)])],512),[[f,o.statusFilter]])]),e("div",J,[t[47]||(t[47]=e("label",null,"🎯 类型筛选：",-1)),p(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>o.typeFilter=s),class:"filter-select"},[...t[46]||(t[46]=[y('<option value="" data-v-b573f991>全部类型</option><option value="2D" data-v-b573f991>🎨 2D游戏</option><option value="3D" data-v-b573f991>🎯 3D游戏</option><option value="tool" data-v-b573f991>🔧 工具/插件</option><option value="demo" data-v-b573f991>🎮 演示项目</option>',5)])],512),[[f,o.typeFilter]])]),e("div",K,[t[49]||(t[49]=e("label",null,"📅 排序方式：",-1)),p(e("select",{"onUpdate:modelValue":t[4]||(t[4]=s=>o.sortBy=s),class:"filter-select"},[...t[48]||(t[48]=[e("option",{value:"newest"},"最新创建",-1),e("option",{value:"updated"},"最近更新",-1),e("option",{value:"name"},"项目名称",-1),e("option",{value:"progress"},"完成度",-1)])],512),[[f,o.sortBy]])])])]),a(" 项目列表 "),l.filteredProjects.length===0?(d(),n("div",W,[t[50]||(t[50]=e("div",{class:"empty-icon"},"🌱",-1)),e("h4",null,i(o.searchQuery||o.statusFilter||o.typeFilter?"没有找到匹配的项目":"还没有项目哦"),1),e("p",null,i(o.searchQuery||o.statusFilter||o.typeFilter?"试试调整筛选条件":"成为第一个分享项目的群友吧！"),1)])):(d(),n("div",X,[(d(!0),n(v,null,h(l.filteredProjects,s=>(d(),n("div",{key:s.id,class:"project-card",onClick:j=>l.selectProject(s)},[e("div",Z,[e("div",$,[e("h4",tt,i(s.title),1),e("div",{class:P(["project-status",l.getStatusClass(s.status)])},i(l.getStatusIcon(s.status))+" "+i(l.getStatusText(s.status)),3)]),e("div",et,[l.editableProjects.includes(s.id)?(d(),n("button",{key:0,class:"btn-icon",onClick:g(j=>l.editProject(s),["stop"]),title:"编辑项目"}," ✏️ ",8,st)):a("v-if",!0),l.editableProjects.includes(s.id)?(d(),n("button",{key:1,class:"btn-icon",onClick:g(j=>l.addUpdate(s),["stop"]),title:"添加更新"}," 📝 ",8,ot)):a("v-if",!0)])]),e("div",rt,[e("span",lt,i(l.getTypeIcon(s.type))+" "+i(s.type),1),e("span",it,"👤 "+i(s.author),1),e("span",nt,"📅 "+i(l.formatDate(s.createdAt)),1)]),e("p",dt,i(l.truncateText(s.description,120)),1),a(" 进度条 "),e("div",at,[e("div",pt,[t[51]||(t[51]=e("span",null,"完成度",-1)),e("span",ct,i(s.progress)+"%",1)]),e("div",ut,[e("div",{class:P(["progress-fill",l.getProgressClass(s.progress)]),style:k({width:s.progress+"%"})},null,6)])]),a(" 标签 "),s.tags&&s.tags.length>0?(d(),n("div",mt,[(d(!0),n(v,null,h(s.tags.slice(0,3),j=>(d(),n("span",{key:j,class:"project-tag"},i(j),1))),128)),s.tags.length>3?(d(),n("span",gt," +"+i(s.tags.length-3),1)):a("v-if",!0)])):a("v-if",!0),a(" 最近更新 "),s.lastUpdate?(d(),n("div",jt,[t[52]||(t[52]=e("span",{class:"update-icon"},"🔄",-1)),e("span",ft,i(l.formatDate(s.lastUpdate.date))+": "+i(s.lastUpdate.content),1)])):a("v-if",!0)],8,Y))),128))])),a(" 项目编辑弹窗（创建/编辑统一） "),o.showProjectModal?(d(),n("div",{key:2,class:"modal-overlay",onClick:t[25]||(t[25]=(...s)=>l.closeProjectModal&&l.closeProjectModal(...s))},[e("div",{class:"modal-content modal-large",onClick:t[24]||(t[24]=g(()=>{},["stop"]))},[e("div",vt,[e("h3",null,i(o.projectModalMode==="create"?"🚀 创建新项目":"✏️ 编辑项目"),1),e("button",{class:"modal-close",onClick:t[5]||(t[5]=(...s)=>l.closeProjectModal&&l.closeProjectModal(...s))},"✕")]),e("form",{onSubmit:t[23]||(t[23]=g((...s)=>l.submitProjectForm&&l.submitProjectForm(...s),["prevent"])),class:"project-form"},[e("div",ht,[t[53]||(t[53]=e("label",{for:"title"},[m("项目名称 "),e("span",{class:"required-asterisk"},"*")],-1)),p(e("input",{id:"title","onUpdate:modelValue":t[6]||(t[6]=s=>o.projectForm.title=s),type:"text",required:"",placeholder:"输入项目名称..."},null,512),[[u,o.projectForm.title]])]),e("div",bt,[e("div",yt,[t[54]||(t[54]=e("label",{for:"author"},[m("作者 "),e("span",{class:"required-asterisk"},"*")],-1)),p(e("input",{id:"author","onUpdate:modelValue":t[7]||(t[7]=s=>o.projectForm.author=s),type:"text",required:"",placeholder:"输入你的昵称...",disabled:o.projectModalMode==="edit"},null,8,Pt),[[u,o.projectForm.author]])]),e("div",Ft,[t[55]||(t[55]=e("label",{for:"contact"},"联系方式",-1)),p(e("input",{id:"contact","onUpdate:modelValue":t[8]||(t[8]=s=>o.projectForm.contact=s),type:"text",placeholder:"QQ、微信、邮箱等..."},null,512),[[u,o.projectForm.contact]])])]),e("div",Ut,[e("div",kt,[t[57]||(t[57]=e("label",{for:"type"},[m("项目类型 "),e("span",{class:"required-asterisk"},"*")],-1)),p(e("select",{id:"type","onUpdate:modelValue":t[9]||(t[9]=s=>o.projectForm.type=s),required:""},[...t[56]||(t[56]=[y('<option value="" data-v-b573f991>选择类型</option><option value="2D" data-v-b573f991>🎨 2D游戏</option><option value="3D" data-v-b573f991>🎯 3D游戏</option><option value="tool" data-v-b573f991>🔧 工具/插件</option><option value="demo" data-v-b573f991>🎮 演示项目</option><option value="tutorial" data-v-b573f991>📚 教程项目</option><option value="asset" data-v-b573f991>🎭 资源包</option>',7)])],512),[[f,o.projectForm.type]])]),e("div",wt,[t[59]||(t[59]=e("label",{for:"status"},[m("当前状态 "),e("span",{class:"required-asterisk"},"*")],-1)),p(e("select",{id:"status","onUpdate:modelValue":t[10]||(t[10]=s=>o.projectForm.status=s),required:""},[...t[58]||(t[58]=[y('<option value="" data-v-b573f991>选择状态</option><option value="planning" data-v-b573f991>📋 计划中</option><option value="development" data-v-b573f991>🚀 开发中</option><option value="testing" data-v-b573f991>🧪 测试中</option><option value="completed" data-v-b573f991>✅ 已完成</option><option value="paused" data-v-b573f991>⏸️ 暂停</option>',6)])],512),[[f,o.projectForm.status]])])]),e("div",Mt,[t[60]||(t[60]=e("label",{for:"description"},[m("项目描述 "),e("span",{class:"required-asterisk"},"*")],-1)),p(e("textarea",{id:"description","onUpdate:modelValue":t[11]||(t[11]=s=>o.projectForm.description=s),required:"",placeholder:"详细描述你的项目，包括玩法、特色、目标等...",rows:"4"},null,512),[[u,o.projectForm.description]])]),e("div",Ct,[e("div",xt,[t[61]||(t[61]=e("label",{for:"progress"},"完成度 (%)",-1)),p(e("input",{id:"progress","onUpdate:modelValue":t[12]||(t[12]=s=>o.projectForm.progress=s),type:"number",min:"0",max:"100",placeholder:"0-100"},null,512),[[u,o.projectForm.progress,void 0,{number:!0}]])]),e("div",It,[t[62]||(t[62]=e("label",{for:"expectedTime"},"预计完成时间",-1)),p(e("input",{id:"expectedTime","onUpdate:modelValue":t[13]||(t[13]=s=>o.projectForm.expectedTime=s),type:"date"},null,512),[[u,o.projectForm.expectedTime]])])]),e("div",_t,[t[64]||(t[64]=e("label",{for:"tags"},"标签 (用逗号分隔)",-1)),p(e("input",{id:"tags","onUpdate:modelValue":t[14]||(t[14]=s=>o.projectForm.tagsInput=s),type:"text",placeholder:"例如: RPG, 像素风, 单人, 开源..."},null,512),[[u,o.projectForm.tagsInput]]),e("div",Dt,[t[63]||(t[63]=e("span",{class:"suggestion-label"},"常用标签：",-1)),(d(!0),n(v,null,h(o.commonTags,s=>(d(),n("span",{key:s,class:"tag-suggestion",onClick:j=>l.addTag(s)},i(s),9,St))),128))])]),e("div",Tt,[e("div",Vt,[t[65]||(t[65]=e("label",{for:"repository"},"代码仓库",-1)),p(e("input",{id:"repository","onUpdate:modelValue":t[15]||(t[15]=s=>o.projectForm.repository=s),type:"url",placeholder:"https://github.com/..."},null,512),[[u,o.projectForm.repository]])]),e("div",Lt,[t[66]||(t[66]=e("label",{for:"demoUrl"},"演示链接",-1)),p(e("input",{id:"demoUrl","onUpdate:modelValue":t[16]||(t[16]=s=>o.projectForm.demoUrl=s),type:"url",placeholder:"https://..."},null,512),[[u,o.projectForm.demoUrl]])])]),e("div",Et,[t[67]||(t[67]=e("label",{for:"teamMembers"},"团队成员 (可选)",-1)),p(e("textarea",{id:"teamMembers","onUpdate:modelValue":t[17]||(t[17]=s=>o.projectForm.teamMembers=s),placeholder:"列出团队成员及其分工，例如：张三(程序)、李四(美术)...",rows:"2"},null,512),[[u,o.projectForm.teamMembers]])]),e("div",At,[t[68]||(t[68]=e("label",{for:"recruitmentInfo"},"招募信息 (可选)",-1)),p(e("textarea",{id:"recruitmentInfo","onUpdate:modelValue":t[18]||(t[18]=s=>o.projectForm.recruitmentInfo=s),placeholder:"如果需要招募成员，请描述需要的技能和联系方式...",rows:"2"},null,512),[[u,o.projectForm.recruitmentInfo]])]),e("div",Ot,[e("div",qt,[e("label",Ht,[p(e("input",{type:"checkbox","onUpdate:modelValue":t[19]||(t[19]=s=>o.projectForm.isOpenSource=s)},null,512),[[F,o.projectForm.isOpenSource]]),t[69]||(t[69]=e("span",{class:"checkmark"},null,-1)),t[70]||(t[70]=m(" 开源项目 ",-1))]),e("label",Qt,[p(e("input",{type:"checkbox","onUpdate:modelValue":t[20]||(t[20]=s=>o.projectForm.needHelp=s)},null,512),[[F,o.projectForm.needHelp]]),t[71]||(t[71]=e("span",{class:"checkmark"},null,-1)),t[72]||(t[72]=m(" 寻求帮助 ",-1))]),e("label",Gt,[p(e("input",{type:"checkbox","onUpdate:modelValue":t[21]||(t[21]=s=>o.projectForm.allowCollaboration=s)},null,512),[[F,o.projectForm.allowCollaboration]]),t[73]||(t[73]=e("span",{class:"checkmark"},null,-1)),t[74]||(t[74]=m(" 欢迎协作 ",-1))])])]),o.createError?(d(),n("div",Nt," ❌ "+i(o.createError),1)):a("v-if",!0),e("div",Rt,[e("button",{type:"button",class:"btn-secondary",onClick:t[22]||(t[22]=(...s)=>l.closeProjectModal&&l.closeProjectModal(...s))}," 取消 "),e("button",{type:"submit",class:"btn-primary",disabled:o.createLoading},i(o.createLoading?o.projectModalMode==="create"?"创建中...":"更新中...":o.projectModalMode==="create"?"创建项目":"保存更改"),9,Bt)])],32)])])):a("v-if",!0),a(" 项目详情弹窗 "),o.selectedProject?(d(),n("div",{key:3,class:"modal-overlay",onClick:t[30]||(t[30]=(...s)=>l.closeProjectDetail&&l.closeProjectDetail(...s))},[e("div",{class:"modal-content modal-large",onClick:t[29]||(t[29]=g(()=>{},["stop"]))},[e("div",zt,[e("h3",null,i(o.selectedProject.title),1),e("div",Jt,[l.editableProjects.includes(o.selectedProject.id)?(d(),n("button",{key:0,class:"btn-icon",onClick:t[26]||(t[26]=s=>l.editProject(o.selectedProject)),title:"编辑项目"}," ✏️ ")):a("v-if",!0),l.editableProjects.includes(o.selectedProject.id)?(d(),n("button",{key:1,class:"btn-icon",onClick:t[27]||(t[27]=s=>l.addUpdate(o.selectedProject)),title:"添加更新"}," 📝 ")):a("v-if",!0),e("button",{class:"modal-close",onClick:t[28]||(t[28]=(...s)=>l.closeProjectDetail&&l.closeProjectDetail(...s))},"✕")])]),e("div",Kt,[e("div",Wt,[e("div",Xt,[e("span",{class:P(["project-status",l.getStatusClass(o.selectedProject.status)])},i(l.getStatusIcon(o.selectedProject.status))+" "+i(l.getStatusText(o.selectedProject.status)),3),e("span",Yt,i(l.getTypeIcon(o.selectedProject.type))+" "+i(o.selectedProject.type),1),e("span",Zt,"👤 "+i(o.selectedProject.author),1),e("span",$t,"📅 "+i(l.formatDate(o.selectedProject.createdAt)),1)]),e("div",te,[e("div",ee,[t[75]||(t[75]=e("span",null,"完成度",-1)),e("span",se,i(o.selectedProject.progress)+"%",1)]),e("div",oe,[e("div",{class:P(["progress-fill",l.getProgressClass(o.selectedProject.progress)]),style:k({width:o.selectedProject.progress+"%"})},null,6)])])]),e("div",re,[e("div",le,[t[76]||(t[76]=e("h4",null,"📝 项目描述",-1)),e("p",null,i(o.selectedProject.description),1)]),o.selectedProject.tags&&o.selectedProject.tags.length>0?(d(),n("div",ie,[t[77]||(t[77]=e("h4",null,"🏷️ 标签",-1)),e("div",ne,[(d(!0),n(v,null,h(o.selectedProject.tags,s=>(d(),n("span",{key:s,class:"project-tag"},i(s),1))),128))])])):a("v-if",!0),o.selectedProject.repository?(d(),n("div",de,[t[78]||(t[78]=e("h4",null,"💻 代码仓库",-1)),e("a",{href:o.selectedProject.repository,target:"_blank",class:"repository-link"},i(o.selectedProject.repository),9,ae)])):a("v-if",!0),o.selectedProject.updates&&o.selectedProject.updates.length>0?(d(),n("div",pe,[t[79]||(t[79]=e("h4",null,"📈 项目更新",-1)),e("div",ce,[(d(!0),n(v,null,h(o.selectedProject.updates,s=>(d(),n("div",{key:s.id,class:"update-item"},[e("div",ue,i(l.formatDate(s.date)),1),e("div",me,i(s.content),1),s.progress!==void 0?(d(),n("div",ge," 进度更新: "+i(s.progress)+"% ",1)):a("v-if",!0)]))),128))])])):a("v-if",!0)])])])])):a("v-if",!0),a(" 添加更新弹窗 "),o.showUpdateModal?(d(),n("div",{key:4,class:"modal-overlay",onClick:t[37]||(t[37]=(...s)=>l.closeUpdateModal&&l.closeUpdateModal(...s))},[e("div",{class:"modal-content",onClick:t[36]||(t[36]=g(()=>{},["stop"]))},[e("div",je,[t[80]||(t[80]=e("h3",null,"📝 添加项目更新",-1)),e("button",{class:"modal-close",onClick:t[31]||(t[31]=(...s)=>l.closeUpdateModal&&l.closeUpdateModal(...s))},"✕")]),e("form",{onSubmit:t[35]||(t[35]=g((...s)=>l.submitUpdate&&l.submitUpdate(...s),["prevent"])),class:"project-form"},[e("div",fe,[t[81]||(t[81]=e("label",{for:"update-content"},[m("更新内容 "),e("span",{class:"required-asterisk"},"*")],-1)),p(e("textarea",{id:"update-content","onUpdate:modelValue":t[32]||(t[32]=s=>o.newUpdate.content=s),required:"",placeholder:"描述这次更新的内容...",rows:"4"},null,512),[[u,o.newUpdate.content]])]),e("div",ve,[t[82]||(t[82]=e("label",{for:"update-progress"},"更新完成度 (%)",-1)),p(e("input",{id:"update-progress","onUpdate:modelValue":t[33]||(t[33]=s=>o.newUpdate.progress=s),type:"number",min:"0",max:"100",placeholder:o.updatingProject?.progress||0},null,8,he),[[u,o.newUpdate.progress,void 0,{number:!0}]]),t[83]||(t[83]=e("small",{class:"form-hint"},"留空则不更新完成度",-1))]),e("div",be,[e("button",{type:"button",class:"btn-secondary",onClick:t[34]||(t[34]=(...s)=>l.closeUpdateModal&&l.closeUpdateModal(...s))}," 取消 "),t[84]||(t[84]=e("button",{type:"submit",class:"btn-primary"}," 添加更新 ",-1))])],32)])])):a("v-if",!0)])}const ke=M(_,[["render",ye],["__scopeId","data-v-b573f991"]]);export{ke as default};
