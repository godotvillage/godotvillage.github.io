import{j as m,y as S,c as n,o as i,a as t,f,q as l,v as u,t as d,B as b,d as h,C as w,x as y,F as T,h as D,b as V}from"./app-DDxaRg3J.js";import{_ as k}from"./plugin-vue_export-helper-DlAUqK2U.js";const C={class:"project-submit-form"},N={class:"form-group"},F={class:"char-count"},I={class:"form-group"},U={class:"char-count"},P={class:"form-group"},q={class:"char-count"},B={class:"form-row"},E={class:"form-group"},K={class:"form-group"},M={class:"form-group"},O=["onKeydown"],A={key:0,class:"tags-container"},J=["onClick"],L={class:"form-actions"},$=["disabled"],z={key:0,class:"success-message"},G={__name:"ProjectSubmitForm",setup(H){const o=m({submitter:"",name:"",description:"",category:"",expectedTime:"",tags:[]}),r=m(""),p=m(!1),v=S(()=>o.value.submitter.trim()&&o.value.name.trim()&&o.value.description.trim()),x=()=>{const a=r.value.trim();a&&!o.value.tags.includes(a)&&o.value.tags.length<10&&(o.value.tags.push(a),r.value="")},j=a=>{o.value.tags.splice(a,1)},c=()=>{o.value={submitter:"",name:"",description:"",category:"",expectedTime:"",tags:[]},r.value="",p.value=!1},_=()=>{if(!v.value)return;const a={id:Date.now().toString(),...o.value,status:"è¿›è¡Œä¸­",createdAt:new Date().toISOString(),author:o.value.submitter},e=JSON.parse(localStorage.getItem("farmProjects")||"[]");e.unshift(a),localStorage.setItem("farmProjects",JSON.stringify(e)),window.dispatchEvent(new CustomEvent("projectAdded",{detail:a})),p.value=!0,setTimeout(()=>{c()},2e3)};return(a,e)=>(i(),n("div",C,[e[15]||(e[15]=t("div",{class:"form-header"},[t("h3",null,"ğŸŒ± ç§ä¸‹ä½ çš„åˆ›æ„ç§å­"),t("p",null,"åˆ†äº«ä½ çš„é¡¹ç›®æƒ³æ³•ï¼Œè®©ç¤¾åŒºä¸€èµ·æ¥å¸®åŠ©å®ç°ï¼")],-1)),t("form",{onSubmit:y(_,["prevent"]),class:"submit-form"},[t("div",N,[e[6]||(e[6]=t("label",{for:"submitter"},"å¡«å†™äºº *",-1)),l(t("input",{id:"submitter","onUpdate:modelValue":e[0]||(e[0]=s=>o.value.submitter=s),type:"text",placeholder:"è¯·è¾“å…¥æ‚¨çš„å§“åæˆ–ID",required:"",maxlength:"30"},null,512),[[u,o.value.submitter]]),t("span",F,d(o.value.submitter.length)+"/30",1)]),t("div",I,[e[7]||(e[7]=t("label",{for:"projectName"},"é¡¹ç›®åç§° *",-1)),l(t("input",{id:"projectName","onUpdate:modelValue":e[1]||(e[1]=s=>o.value.name=s),type:"text",placeholder:"ç»™ä½ çš„é¡¹ç›®èµ·ä¸ªå“äº®çš„åå­—",required:"",maxlength:"50"},null,512),[[u,o.value.name]]),t("span",U,d(o.value.name.length)+"/50",1)]),t("div",P,[e[8]||(e[8]=t("label",{for:"projectDescription"},"è¯¦ç»†çµæ„Ÿæè¿° *",-1)),l(t("textarea",{id:"projectDescription","onUpdate:modelValue":e[2]||(e[2]=s=>o.value.description=s),placeholder:"è¯¦ç»†æè¿°ä½ çš„é¡¹ç›®æƒ³æ³•ã€ç›®æ ‡ã€æŠ€æœ¯æ ˆç­‰...",required:"",rows:"6",maxlength:"1000"},null,512),[[u,o.value.description]]),t("span",q,d(o.value.description.length)+"/1000",1)]),t("div",B,[t("div",E,[e[10]||(e[10]=t("label",{for:"projectCategory"},"é¡¹ç›®åˆ†ç±»",-1)),l(t("select",{id:"projectCategory","onUpdate:modelValue":e[3]||(e[3]=s=>o.value.category=s)},[...e[9]||(e[9]=[t("option",{value:""},"é€‰æ‹©åˆ†ç±»",-1),t("option",{value:"2D"},"ğŸ¨ 2D",-1),t("option",{value:"3D"},"ğŸ¯ 3D",-1)])],512),[[b,o.value.category]])]),t("div",K,[e[12]||(e[12]=t("label",{for:"expectedTime"},"é¢„æœŸå®Œæˆæ—¶é—´",-1)),l(t("select",{id:"expectedTime","onUpdate:modelValue":e[4]||(e[4]=s=>o.value.expectedTime=s)},[...e[11]||(e[11]=[h('<option value="" data-v-a80e1cd6>é€‰æ‹©æ—¶é—´</option><option value="1å‘¨å†…" data-v-a80e1cd6>âš¡ 1å‘¨å†…</option><option value="1ä¸ªæœˆå†…" data-v-a80e1cd6>ğŸš€ 1ä¸ªæœˆå†…</option><option value="3ä¸ªæœˆå†…" data-v-a80e1cd6>ğŸ“… 3ä¸ªæœˆå†…</option><option value="åŠå¹´å†…" data-v-a80e1cd6>â° åŠå¹´å†…</option><option value="é•¿æœŸé¡¹ç›®" data-v-a80e1cd6>ğŸ¯ é•¿æœŸé¡¹ç›®</option>',6)])],512),[[b,o.value.expectedTime]])])]),t("div",M,[e[13]||(e[13]=t("label",{for:"customTags"},"è‡ªå®šä¹‰æ ‡ç­¾",-1)),l(t("input",{id:"customTags","onUpdate:modelValue":e[5]||(e[5]=s=>r.value=s),type:"text",placeholder:"è¾“å…¥æ ‡ç­¾åæŒ‰å›è½¦æ·»åŠ ï¼Œå¦‚ï¼šè‚‰é¸½ï¼Œæ¨¡æ‹Ÿç»è¥ï¼Œå›åˆåˆ¶",onKeydown:w(y(x,["prevent"]),["enter"])},null,40,O),[[u,r.value]]),o.value.tags.length>0?(i(),n("div",A,[(i(!0),n(T,null,D(o.value.tags,(s,g)=>(i(),n("span",{key:g,class:"tag"},[V(d(s)+" ",1),t("button",{type:"button",onClick:Q=>j(g),class:"tag-remove"},"Ã—",8,J)]))),128))])):f("v-if",!0)]),t("div",L,[t("button",{type:"button",onClick:c,class:"btn-secondary"}," ğŸ”„ é‡ç½®è¡¨å• "),t("button",{type:"submit",class:"btn-primary",disabled:!v.value}," ğŸŒ± ç§ä¸‹ç§å­ ",8,$)])],32),p.value?(i(),n("div",z,[...e[14]||(e[14]=[t("h4",null,"ğŸ‰ é¡¹ç›®æäº¤æˆåŠŸï¼",-1),t("p",null,"ä½ çš„åˆ›æ„ç§å­å·²ç»ç§ä¸‹ï¼ŒæœŸå¾…å®ƒèŒå£®æˆé•¿ï¼",-1)])])):f("v-if",!0)]))}},X=k(G,[["__scopeId","data-v-a80e1cd6"]]);export{X as default};
