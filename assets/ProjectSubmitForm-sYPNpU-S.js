import{j as m,y as S,c as n,o as i,a as t,f,q as l,v as u,t as d,B as b,d as h,C as w,x as y,F as T,h as D,b as V}from"./app-DDxaRg3J.js";import{_ as k}from"./plugin-vue_export-helper-DlAUqK2U.js";const C={class:"project-submit-form"},N={class:"form-group"},F={class:"char-count"},I={class:"form-group"},U={class:"char-count"},P={class:"form-group"},q={class:"char-count"},B={class:"form-row"},E={class:"form-group"},K={class:"form-group"},M={class:"form-group"},O=["onKeydown"],A={key:0,class:"tags-container"},J=["onClick"],L={class:"form-actions"},$=["disabled"],z={key:0,class:"success-message"},G={__name:"ProjectSubmitForm",setup(H){const o=m({submitter:"",name:"",description:"",category:"",expectedTime:"",tags:[]}),r=m(""),p=m(!1),v=S(()=>o.value.submitter.trim()&&o.value.name.trim()&&o.value.description.trim()),x=()=>{const a=r.value.trim();a&&!o.value.tags.includes(a)&&o.value.tags.length<10&&(o.value.tags.push(a),r.value="")},j=a=>{o.value.tags.splice(a,1)},c=()=>{o.value={submitter:"",name:"",description:"",category:"",expectedTime:"",tags:[]},r.value="",p.value=!1},_=()=>{if(!v.value)return;const a={id:Date.now().toString(),...o.value,status:"进行中",createdAt:new Date().toISOString(),author:o.value.submitter},e=JSON.parse(localStorage.getItem("farmProjects")||"[]");e.unshift(a),localStorage.setItem("farmProjects",JSON.stringify(e)),window.dispatchEvent(new CustomEvent("projectAdded",{detail:a})),p.value=!0,setTimeout(()=>{c()},2e3)};return(a,e)=>(i(),n("div",C,[e[15]||(e[15]=t("div",{class:"form-header"},[t("h3",null,"🌱 种下你的创意种子"),t("p",null,"分享你的项目想法，让社区一起来帮助实现！")],-1)),t("form",{onSubmit:y(_,["prevent"]),class:"submit-form"},[t("div",N,[e[6]||(e[6]=t("label",{for:"submitter"},"填写人 *",-1)),l(t("input",{id:"submitter","onUpdate:modelValue":e[0]||(e[0]=s=>o.value.submitter=s),type:"text",placeholder:"请输入您的姓名或ID",required:"",maxlength:"30"},null,512),[[u,o.value.submitter]]),t("span",F,d(o.value.submitter.length)+"/30",1)]),t("div",I,[e[7]||(e[7]=t("label",{for:"projectName"},"项目名称 *",-1)),l(t("input",{id:"projectName","onUpdate:modelValue":e[1]||(e[1]=s=>o.value.name=s),type:"text",placeholder:"给你的项目起个响亮的名字",required:"",maxlength:"50"},null,512),[[u,o.value.name]]),t("span",U,d(o.value.name.length)+"/50",1)]),t("div",P,[e[8]||(e[8]=t("label",{for:"projectDescription"},"详细灵感描述 *",-1)),l(t("textarea",{id:"projectDescription","onUpdate:modelValue":e[2]||(e[2]=s=>o.value.description=s),placeholder:"详细描述你的项目想法、目标、技术栈等...",required:"",rows:"6",maxlength:"1000"},null,512),[[u,o.value.description]]),t("span",q,d(o.value.description.length)+"/1000",1)]),t("div",B,[t("div",E,[e[10]||(e[10]=t("label",{for:"projectCategory"},"项目分类",-1)),l(t("select",{id:"projectCategory","onUpdate:modelValue":e[3]||(e[3]=s=>o.value.category=s)},[...e[9]||(e[9]=[t("option",{value:""},"选择分类",-1),t("option",{value:"2D"},"🎨 2D",-1),t("option",{value:"3D"},"🎯 3D",-1)])],512),[[b,o.value.category]])]),t("div",K,[e[12]||(e[12]=t("label",{for:"expectedTime"},"预期完成时间",-1)),l(t("select",{id:"expectedTime","onUpdate:modelValue":e[4]||(e[4]=s=>o.value.expectedTime=s)},[...e[11]||(e[11]=[h('<option value="" data-v-a80e1cd6>选择时间</option><option value="1周内" data-v-a80e1cd6>⚡ 1周内</option><option value="1个月内" data-v-a80e1cd6>🚀 1个月内</option><option value="3个月内" data-v-a80e1cd6>📅 3个月内</option><option value="半年内" data-v-a80e1cd6>⏰ 半年内</option><option value="长期项目" data-v-a80e1cd6>🎯 长期项目</option>',6)])],512),[[b,o.value.expectedTime]])])]),t("div",M,[e[13]||(e[13]=t("label",{for:"customTags"},"自定义标签",-1)),l(t("input",{id:"customTags","onUpdate:modelValue":e[5]||(e[5]=s=>r.value=s),type:"text",placeholder:"输入标签后按回车添加，如：肉鸽，模拟经营，回合制",onKeydown:w(y(x,["prevent"]),["enter"])},null,40,O),[[u,r.value]]),o.value.tags.length>0?(i(),n("div",A,[(i(!0),n(T,null,D(o.value.tags,(s,g)=>(i(),n("span",{key:g,class:"tag"},[V(d(s)+" ",1),t("button",{type:"button",onClick:Q=>j(g),class:"tag-remove"},"×",8,J)]))),128))])):f("v-if",!0)]),t("div",L,[t("button",{type:"button",onClick:c,class:"btn-secondary"}," 🔄 重置表单 "),t("button",{type:"submit",class:"btn-primary",disabled:!v.value}," 🌱 种下种子 ",8,$)])],32),p.value?(i(),n("div",z,[...e[14]||(e[14]=[t("h4",null,"🎉 项目提交成功！",-1),t("p",null,"你的创意种子已经种下，期待它茁壮成长！",-1)])])):f("v-if",!0)]))}},X=k(G,[["__scopeId","data-v-a80e1cd6"]]);export{X as default};
