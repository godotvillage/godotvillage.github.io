import{j as c,y,z as U,A as z,c as l,o as i,a as s,f as d,t as a,q as f,B as h,d as O,F as k,h as b,p as A,x as N,b as m}from"./app-DDxaRg3J.js";import{_ as J}from"./plugin-vue_export-helper-DlAUqK2U.js";const $={class:"project-list"},q={class:"list-header"},K={class:"stats"},G={class:"stat-item"},H={class:"stat-number"},Q={class:"stat-item"},R={class:"stat-number"},W={class:"stat-item"},X={class:"stat-number"},Y={class:"filter-controls"},Z={class:"filter-group"},tt={class:"filter-group"},st={class:"filter-group"},et={key:0,class:"empty-state"},ot={key:1,class:"projects-grid"},at=["onClick"],nt={class:"project-content"},lt={class:"project-header"},it={class:"project-title"},dt={class:"project-meta"},rt={key:0,class:"project-category"},ut={key:1,class:"project-time"},ct={class:"project-description"},vt={key:0,class:"project-tags"},pt={key:0,class:"more-tags"},mt={class:"project-footer"},gt={class:"project-author"},_t={class:"project-date"},yt={class:"project-actions"},ft=["onClick"],ht={class:"modal-header"},kt={class:"modal-body"},bt={class:"project-detail-meta"},wt={class:"detail-item"},Ct={key:0,class:"detail-item"},xt={key:1,class:"detail-item"},Dt={class:"detail-item"},St={class:"detail-item"},jt={class:"detail-description"},It={key:0,class:"detail-tags"},Pt={class:"tags-list"},At={__name:"ProjectList",setup(Nt){const r=c([]),n=c(null),v=c(""),p=c(""),g=c("newest"),L=y(()=>r.value.filter(e=>e.status==="è¿›è¡Œä¸­").length),V=y(()=>r.value.filter(e=>e.status==="å·²å®Œæˆ").length),w=y(()=>{let e=r.value;return v.value&&(e=e.filter(t=>t.status===v.value)),p.value&&(e=e.filter(t=>t.category===p.value)),e.sort((t,o)=>{switch(g.value){case"oldest":return new Date(t.createdAt)-new Date(o.createdAt);case"name":return t.name.localeCompare(o.name);case"newest":default:return new Date(o.createdAt)-new Date(t.createdAt)}}),e}),C=()=>{const e=localStorage.getItem("farmProjects");e&&(r.value=JSON.parse(e))},E=()=>{localStorage.setItem("farmProjects",JSON.stringify(r.value))},T=e=>{n.value=e,document.body.style.overflow="hidden"},_=()=>{n.value=null,document.body.style.overflow=""},B=e=>{const t=["è®¡åˆ’ä¸­","è¿›è¡Œä¸­","æš‚åœ","å·²å®Œæˆ"],u=(t.indexOf(e.status)+1)%t.length;e.status=t[u],E()},x=e=>({è¿›è¡Œä¸­:"status-progress",å·²å®Œæˆ:"status-completed",æš‚åœ:"status-paused",è®¡åˆ’ä¸­:"status-planned"})[e]||"status-default",D=e=>({è¿›è¡Œä¸­:"ğŸš€",å·²å®Œæˆ:"âœ…",æš‚åœ:"â¸ï¸",è®¡åˆ’ä¸­:"ğŸ“‹"})[e]||"ğŸ“",F=e=>({è®¡åˆ’ä¸­:"ğŸš€",è¿›è¡Œä¸­:"â¸ï¸",æš‚åœ:"âœ…",å·²å®Œæˆ:"ğŸ“‹"})[e]||"ğŸ”„",S=e=>({"2D":"ğŸ¨","3D":"ğŸ¯"})[e]||"ğŸ“",M=(e,t)=>e.length<=t?e:e.substring(0,t)+"...",j=e=>new Date(e).toLocaleDateString("zh-CN",{year:"numeric",month:"short",day:"numeric"}),I=e=>{C()},P=e=>{e.key==="Escape"&&n.value&&_()};return U(()=>{C(),window.addEventListener("projectAdded",I),document.addEventListener("keydown",P)}),z(()=>{window.removeEventListener("projectAdded",I),document.removeEventListener("keydown",P),document.body.style.overflow=""}),(e,t)=>(i(),l("div",$,[s("div",q,[t[7]||(t[7]=s("h3",null,"ğŸŒ¾ å†œåœºé¡¹ç›®å±•ç¤º",-1)),s("div",K,[s("span",G,[s("span",H,a(r.value.length),1),t[4]||(t[4]=s("span",{class:"stat-label"},"æ€»é¡¹ç›®æ•°",-1))]),s("span",Q,[s("span",R,a(L.value),1),t[5]||(t[5]=s("span",{class:"stat-label"},"è¿›è¡Œä¸­",-1))]),s("span",W,[s("span",X,a(V.value),1),t[6]||(t[6]=s("span",{class:"stat-label"},"å·²å®Œæˆ",-1))])])]),s("div",Y,[s("div",Z,[t[9]||(t[9]=s("label",null,"çŠ¶æ€ç­›é€‰ï¼š",-1)),f(s("select",{"onUpdate:modelValue":t[0]||(t[0]=o=>v.value=o)},[...t[8]||(t[8]=[O('<option value="" data-v-e3bc70ea>å…¨éƒ¨çŠ¶æ€</option><option value="è¿›è¡Œä¸­" data-v-e3bc70ea>ğŸš€ è¿›è¡Œä¸­</option><option value="å·²å®Œæˆ" data-v-e3bc70ea>âœ… å·²å®Œæˆ</option><option value="æš‚åœ" data-v-e3bc70ea>â¸ï¸ æš‚åœ</option><option value="è®¡åˆ’ä¸­" data-v-e3bc70ea>ğŸ“‹ è®¡åˆ’ä¸­</option>',5)])],512),[[h,v.value]])]),s("div",tt,[t[11]||(t[11]=s("label",null,"åˆ†ç±»ç­›é€‰ï¼š",-1)),f(s("select",{"onUpdate:modelValue":t[1]||(t[1]=o=>p.value=o)},[...t[10]||(t[10]=[s("option",{value:""},"å…¨éƒ¨åˆ†ç±»",-1),s("option",{value:"2D"},"ğŸ¨ 2D",-1),s("option",{value:"3D"},"ğŸ¯ 3D",-1)])],512),[[h,p.value]])]),s("div",st,[t[13]||(t[13]=s("label",null,"æ’åºæ–¹å¼ï¼š",-1)),f(s("select",{"onUpdate:modelValue":t[2]||(t[2]=o=>g.value=o)},[...t[12]||(t[12]=[s("option",{value:"newest"},"æœ€æ–°åˆ›å»º",-1),s("option",{value:"oldest"},"æœ€æ—©åˆ›å»º",-1),s("option",{value:"name"},"é¡¹ç›®åç§°",-1)])],512),[[h,g.value]])])]),w.value.length===0?(i(),l("div",et,[...t[14]||(t[14]=[s("div",{class:"empty-icon"},"ğŸŒ±",-1),s("h4",null,"è¿˜æ²¡æœ‰é¡¹ç›®å“¦",-1),s("p",null,"æˆä¸ºç¬¬ä¸€ä¸ªåœ¨å†œåœºç§ä¸‹åˆ›æ„ç§å­çš„äººå§ï¼",-1)])])):(i(),l("div",ot,[(i(!0),l(k,null,b(w.value,o=>(i(),l("div",{key:o.id,class:"project-card",onClick:u=>T(o)},[s("div",nt,[s("div",lt,[s("h4",it,a(o.name),1),s("div",{class:A(["project-status",x(o.status)])},a(D(o.status))+" "+a(o.status),3)]),s("div",dt,[o.category?(i(),l("span",rt,a(S(o.category))+" "+a(o.category),1)):d("v-if",!0),o.expectedTime?(i(),l("span",ut," â° "+a(o.expectedTime),1)):d("v-if",!0)]),s("p",ct,a(M(o.description,120)),1),o.tags&&o.tags.length>0?(i(),l("div",vt,[(i(!0),l(k,null,b(o.tags.slice(0,3),u=>(i(),l("span",{key:u,class:"project-tag"},a(u),1))),128)),o.tags.length>3?(i(),l("span",pt," +"+a(o.tags.length-3),1)):d("v-if",!0)])):d("v-if",!0),s("div",mt,[s("span",gt,"ğŸ‘¤ "+a(o.author),1),s("span",_t,a(j(o.createdAt)),1)])]),s("div",yt,[s("button",{onClick:N(u=>B(o),["stop"]),class:"action-btn status-btn"},a(F(o.status)),9,ft)])],8,at))),128))])),d(" é¡¹ç›®è¯¦æƒ…æ¨¡æ€æ¡† "),n.value?(i(),l("div",{key:2,class:"modal-overlay",onClick:_},[s("div",{class:"modal-content",onClick:t[3]||(t[3]=N(()=>{},["stop"]))},[s("div",ht,[s("h3",null,a(n.value.name),1),s("button",{onClick:_,class:"close-btn"},"Ã—")]),s("div",kt,[s("div",bt,[s("div",wt,[t[15]||(t[15]=s("strong",null,"çŠ¶æ€ï¼š",-1)),s("span",{class:A(x(n.value.status))},a(D(n.value.status))+" "+a(n.value.status),3)]),n.value.category?(i(),l("div",Ct,[t[16]||(t[16]=s("strong",null,"åˆ†ç±»ï¼š",-1)),m(" "+a(S(n.value.category))+" "+a(n.value.category),1)])):d("v-if",!0),n.value.expectedTime?(i(),l("div",xt,[t[17]||(t[17]=s("strong",null,"é¢„æœŸå®Œæˆæ—¶é—´ï¼š",-1)),m(" â° "+a(n.value.expectedTime),1)])):d("v-if",!0),s("div",Dt,[t[18]||(t[18]=s("strong",null,"å¡«å†™äººï¼š",-1)),m(" ğŸ‘¤ "+a(n.value.author),1)]),s("div",St,[t[19]||(t[19]=s("strong",null,"åˆ›å»ºæ—¶é—´ï¼š",-1)),m(" "+a(j(n.value.createdAt)),1)])]),s("div",jt,[t[20]||(t[20]=s("strong",null,"é¡¹ç›®æè¿°ï¼š",-1)),s("p",null,a(n.value.description),1)]),n.value.tags&&n.value.tags.length>0?(i(),l("div",It,[t[21]||(t[21]=s("strong",null,"æ ‡ç­¾ï¼š",-1)),s("div",Pt,[(i(!0),l(k,null,b(n.value.tags,o=>(i(),l("span",{key:o,class:"detail-tag"},a(o),1))),128))])])):d("v-if",!0)])])])):d("v-if",!0)]))}},Et=J(At,[["__scopeId","data-v-e3bc70ea"]]);export{Et as default};
