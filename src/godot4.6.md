# Godot 4.6 版本发布 - 通俗易懂版更新说明

> **特别说明**：这是一份面向Godot初学者的翻译版本，用简单直白的语言解释了这个版本的更新内容。如果你已经熟悉Godot，可能更适合阅读[官方原版文档](https://godotengine.org/releases/4.6/#section-highlights)。

---

## 这个版本的主题是"一切为了你的工作流"

Godot 4.6标志着引擎开发进入了一个新阶段。从现在开始，开发团队把重点放在了"打磨和优化"上 —— 让现有功能更好用、更稳定、更快速，而不是一味地添加新功能。这次更新包含了大约**400名贡献者**的**2001次代码提交**，是一次诚意十足的版本更新。

---

## 一、编辑器界面的变化（对新手最友好）

### 1. 全新的默认主题："现代主题"

**这是什么**：编辑器皮肤换新装了！

**简单解释**：之前Godot的界面主题叫"经典主题"，现在默认换成了"现代主题"。这个新主题的特点是：
- 颜色更柔和，看久了不容易累
- 文字和按钮的间距更合理，点击更方便
- 整体是黑白色的，不会影响你对游戏颜色的判断
- 如果你不喜欢，还是可以在设置里换回经典主题

**对新手的好处**：界面更干净、更专业，用起来更舒服。

---

### 2. 浮动面板可以随便拖动

**这是什么**：编辑器的各个面板现在可以随意拖动和摆放了！

**简单解释**：想象你的编辑器就像一个可以自由拼装的玩具。之前底部的一些面板是固定不能动的，现在所有面板都可以：
- 拖到左边、右边、底部
- 让某个面板"漂浮"在屏幕上
- 完全按照你的习惯来排列

**对新手的好处**：你可以把常用的面板放在顺手的位置，工作效率会提高。

---

## 二、物理引擎大升级（Jolt Physics）

**这是什么**：游戏里的碰撞检测和物理模拟变得更好了！

**简单解释**：物理引擎就是负责处理"东西撞到东西会怎样"的系统。Godot 4.6现在默认使用一个叫"Jolt"的物理引擎，这个引擎可不简单 —— 它被用在《死亡搁浅2》这样的3A大作里！

**为什么要换**：
- 更快：物理计算效率更高
- 更稳定：不容易出现奇怪的小bug
- 更专业：经过大型商业游戏验证

**对新手的好处**：你的游戏物理效果会更自然、更流畅。而且不用担心，这是自动换的，你原来做的游戏不会受影响。

---

## 三、全新的IK（反向运动学）系统

**这是什么**：让游戏角色的动作更自然的工具！

**简单解释**：IK是"Inverse Kinematics"的缩写，中文叫"反向运动学"。这是游戏开发里用来做角色动画的进阶技术。

**举个例子**：想象你拿着一把剑，当你挥动剑的时候，你的手应该跟着剑走，而不是剑跟着手走。IK系统就是用来处理这种"结果导向"的动画的 —— 你指定手要到达的位置，系统自动计算手臂应该怎么弯曲。

**这次更新了什么**：
- 提供了多种IK算法，适合不同情况
- 可以把角色的手"吸附"到武器上
- 支持更复杂的关节动作
- 全部模块化，可以和其他动画系统组合使用

**对新手的好处**：如果你想做第三人称动作游戏（比如RPG或者动作冒险），现在的角色动画会更容易制作。

---

## 四、屏幕空间反射（SSR）重写

**这是什么**：让游戏里的反光更真实！

**简单解释**：SSR是一种让金属、水面、玻璃等光滑表面能够反射周围环境的技术。新版本完全重写了这个功能：

**改进的地方**：
- 反光效果更真实，不会出现闪烁或者变形
- 有两个模式：高质量模式（效果好但慢）和性能模式（效果稍差但快）
- 对粗糙表面的处理更合理

**对新手的好处**：你的游戏画面会更漂亮，而且可以根据电脑配置选择合适的模式。

---

## 五、编辑器里的小改进（很多都很实用）

### 1. 资源拖进去自动创建变量

**怎么用**：把一个图片、声音或者其他资源文件拖到脚本编辑区域，编辑器会自动帮你创建一个 `@export` 变量。

**好处**：不用手动写代码了，省时省力。

---

### 2. 调试时能控制游戏速度

**怎么用**：按F6运行游戏后，可以在编辑器里加快或减慢游戏速度。

**好处**：调试的时候可以慢动作看问题，或者加速跳过等待环节。

---

### 3. 点击错误直接跳转到问题代码

**怎么用**：运行游戏时如果有报错，点击输出面板里的错误信息，会直接打开出问题的脚本。

**好处**：找bug更方便了！

---

### 4. 新增"跳出"调试按钮

**怎么用**：调试的时候，除了"单步进入"和"单步跳过"，现在多了"单步跳出"。

**好处**：当你在一个函数里调试时，可以直接跳回调用这个函数的地方，不用一步一步走出来了。

---

### 5. 预览资源更方便

**怎么用**：在"快速打开"对话框里选中一个资源，会立即在场景里显示预览。

**好处**：不用打开关闭好多次才能决定用哪个资源。

---

## 六、3D场景编辑的改进

### 1. 选择和变换模式分开

**是什么**：之前"选择物体"和"移动物体"是混在一起的，现在分开了。

**好处**：选中物体时不会出现移动轴，不容易误操作。

---

### 2. 新增视图方向旋转手柄

**是什么**：在旋转物体的工具上，多了一个沿着相机视角方向的旋转轴。

**好处**：想让物体"朝向"相机时更方便了。

---

### 3. 网格地图（GridMap）画线更平滑

**是什么**：用GridMap画线条时不会再有缺口了。

**好处**：画墙、画路更整齐，不会出现尴尬的缝隙。

---

## 七、GUI界面制作更容易

### 1. 设置中心点更简单

**是什么**：Control节点新增了 `pivot_offset_ratio` 属性，可以用0-1的比例来设置中心点。

**好处**：设置中心点更容易了，而且调整大小时中心点会自动保持正确位置。

---

### 2. 鼠标和键盘焦点分开

**是什么**：点击鼠标不会再强制让控件获得焦点轮廓了。

**好处**：你可以分别为鼠标点击和键盘导航设置不同的焦点样式，界面看起来更清爽。

---

### 3. MarginContainer显示更直观

**是什么**：选中MarginContainer时，边距会在屏幕上直接显示出来。

**好处**：调整间距时能清楚地看到效果，不用反复猜。

---

## 八、物理相关的新功能

### 自动生成碰撞体

**是什么**：选中一个3D模型时，可以从菜单里选择"生成碰撞体"。

**好处**：做碰撞检测更简单了，不用手动去画碰撞形状。

---

## 九、导出和更新相关

### 增量更新包（Delta Encoding）

**是什么**：当你更新游戏时，新补丁只包含变化的部分，而不是整个文件。

**好处**：更新包会小很多！特别适合经常更新内容的游戏（比如不断加新语言的本地化项目）。

**对玩家的好处**：下载更新更快，节省流量。

---

## 十、安卓开发支持增强

### 1. Scrcpy集成

**是什么**：导出到安卓手机时，可以自动把手机画面投屏到电脑上。

**好处**：测试游戏时不用频繁看手机，直接在电脑上就能看到效果。还可以测试不同屏幕尺寸。

---

### 2. 用手机编译安卓项目

**是什么**：通过一个叫"GABE"的配套应用，可以用安卓编辑器直接编译导出。

**好处**：没有电脑也能做安卓开发了！

---

### 3. 存储访问更安全

**是什么**：支持使用系统文件选择器来加载和保存文件。

**好处**：不需要申请"全部存储权限"，符合Google Play的新政策要求。

---

## 十一、Windows平台的变化

### Direct3D 12成为默认渲染后端

**是什么**：Windows平台现在默认使用Direct3D 12来渲染画面。

**好处**：
- 驱动兼容性更好
- 减少了不同显卡的奇怪问题
- 和其他平台的渲染效果更一致

**注意**：你原来的游戏不会受影响，除非你专门去改设置。

---

## 十二、动画和输入相关

### 1. 动画时间轴更灵活

**是什么**：可以拖动时间轴来改变动画长度，节点轨道上有隐藏/锁定/删除按钮。

**好处**：编辑动画更快捷。

---

### 2. 手柄高级功能

**是什么**：现在可以自定义手柄LED灯颜色了，这是未来更多手柄功能的基础。

**未来会有**：体感控制、触摸板、震动反馈、自适应扳机键等。

---

## 十三、渲染效果改进

### 1. 发光效果改进

**是什么**：发光效果现在在色调映射之前计算。

**好处**：发光效果更自然，而且性能基本不变。

---

### 2. 新的色调映射选项

**是什么**：新增了 `agx_white` 和 `agx_contrast` 参数来控制画面亮度和对比度。

**好处**：可以更精细地调整画面风格，让高亮颜色保持正确的色调。

---

### 3. 八面体贴图用于探针

**是什么**：反射探针和辐射探针现在使用八面体贴图，而不是立方体贴图。

**好处**：更省内存，计算更快，效果一样好。

---

### 4. 移动端稳定性提升

**是什么**：修复了Mali和Adreno GPU的崩溃问题。

**好处**：在更多手机和平板上能稳定运行。

---

## 十四、本地化和翻译改进

### 1. CSV翻译文件增强

**是什么**：现在CSV文件支持"上下文"列和"复数形式"列。

**好处**：翻译工作流更完善，支持更复杂的语言规则（比如中文、阿拉伯语的复数形式）。

---

### 2. C#翻译代码自动识别

**是什么**：C#里的 `Tr()` 和 `TrN()` 方法现在在导出翻译文件时会被自动识别。

**好处**：用C#做本地化终于方便了，填补了长期以来的功能缺口。

---

## 十五、XR（虚拟现实/增强现实）支持

### 1. 支持安卓XR设备

**是什么**：Godot XR编辑器现在可以在安卓XR设备上直接测试。

**好处**：VR/AR开发者可以更快地迭代，不用每次都传到头显上测试。

---

### 2. 原生OpenXR 1.1支持

**是什么**：自动启用OpenXR 1.1的新特性。

**新增功能**：
- 握持姿态（hand grip pose）更准确
- 标准化的手柄交互配置
- 向后兼容旧版本

---

### 3. 空间实体支持

**是什么**：支持空间锚点、表面检测和标记追踪。

**好处**：AR应用可以更准确地识别现实世界。

---

## 十六、开发者工具改进

### 1. GDExtension改进

**是什么**：用Rust、Swift、Kotlin等语言开发扩展更方便了。

**改进**：
- 可以声明必需参数（非空）
- 接口定义改成JSON格式，更容易解析
- 为未来更好的自动化工具打基础

---

### 2. 性能分析工具增强

**是什么**：支持使用Tracy、Perfetto、Instruments等专业性能分析工具。

**好处**：能找到更深入的性能瓶颈，解决卡顿问题。

---

### 3. 脚本调试改进

**是什么**：
- 文档字符串转Markdown更准确
- 字符串占位符高亮显示（像 `%s`、`{name}` 这样的）

**好处**：写代码和读文档都更舒服。

---

## 十七、重要提醒

### 请用4.6重新保存项目

**操作**：打开你的项目，点击 `项目 > 工具 > 升级项目文件`，然后用4.6版本保存。

**为什么**：4.6给节点添加了唯一ID系统，这个功能需要重新保存才能生效。

**注意**：如果你的项目是和别人协作的，确认所有人都升级到4.6再提交。

---

## 总结

Godot 4.6是一次"修炼内功"的更新 —— 没有太多惊天动地的大功能，但是处处都在提升开发体验。界面更漂亮、物理更强大、调试更方便、做安卓和VR更简单。

**适合升级吗**：是的，推荐所有用户升级。这是自4.0发布近三年以来，Godot迈向成熟的重要一步。

---

## 参考链接

- [Godot官网下载4.6](https://godotengine.org/download/)
- [GDQuest的4.6工作流变化指南](https://gdquest.com/library/godot_4_6_workflow_changes/)
- [性能分析文档](https://docs.godotengine.org/en/4.6/engine_details/development/profiling/index.html)
- [GitHub上的4.6版本PR列表](https://github.com/godotengine/godot/pulls?q=is%3Apr+milestone%3A4.6+is%3Aclosed+is%3Amerged+)

---
